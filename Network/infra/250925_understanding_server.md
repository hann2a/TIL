# TIL: 서버란 대체 무엇인가?

## 1. 나의 생각 흐름
1. **서버가 뭔데?** → 로컬 서버와 외부 서버 비교로 감 잡기  
2. **AWS는 왜 필요하지?** → 서버/DB/스토리지를 빌려 쓸 수 있는 환경  
3. **도메인은 왜 있어?** → 사람이 기억하기 쉬운 이름, DNS가 IP로 변환  
4. **왜 외부 서버만 인터넷에 연결돼?** → 공인 IP vs 사설 IP 차이  
5. **네트워크 기본** → NAT, ISP, 데이터센터 구조 이해  
6. **데이터는 어떻게 오가?** → 패킷(작은 데이터 조각) 단위로 전송  

---

## 2. 서버 한 줄 정의
**서버 = 요청을 받아 처리(계산)하고 응답을 돌려주는 컴퓨터**  
- 서버 → 로직/계산 담당  
- DB → 저장/조회 담당  

---

## 3. 로컬 서버 vs 외부 서버

| 구분     | 로컬 서버                        | 외부 서버 (AWS 등) |
|----------|----------------------------------|-------------------|
| 위치     | 내 PC                            | 데이터센터        |
| 접근     | 나만 (개발/테스트용)             | 누구나 (실서비스) |
| 주소     | `127.0.0.1` / `localhost`       | 공인 IP + 도메인  |
| 저장     | 내 PC 파일 / sqlite3             | 서버 DB (RDS 등)  |

💡 **로컬 = 연습장 / 외부 = 공개 무대**

---

## 4. AWS가 해주는 것
- **EC2**: 인터넷에 연결된 가상 서버  
- **RDS**: 관리형 데이터베이스  
- **S3**: 파일 저장소  
- 우리가 전원·냉각·보안·네트워크를 챙기지 않아도, 데이터센터 수준의 품질로 서버를 사용할 수 있음.

---

## 5. 도메인과 DNS
- 컴퓨터끼리는 **IP**로 서로를 찾음 (예: `52.xx.xx.xx`)  
- 우리는 **도메인**을 사용 (예: `mywebsite.com`)  
- **DNS** = 인터넷 전화번호부  
  - 도메인 구매 → 네임서버 지정 → 네임서버가 “도메인 ↔ IP” 매핑

---

## 6. 인터넷 연결의 의미
- **공인 IP**를 갖고 있고, 외부에서 그 IP로 들어오는 요청이 서버까지 도달할 수 있는 상태  
- 내 PC: 보통 **사설 IP**만 있어 외부 접근 불가 (`192.168.x.x`)  
- 외부 서버(AWS): 데이터센터 네트워크가 인터넷 백본에 직접 연결되어 있어 공인 IP 제공 → 전 세계 접근 가능

---

## 7. 네트워크 기본
- **IP 주소**: 네트워크 상에서 장치를 구분하는 번호표  
- **사설 IP**: 내부 전용 (집·회사 안에서만 사용)  
- **공인 IP**: 전 세계에서 유효, 외부 접근 가능  
- **NAT(공유기)**: 공인 IP 하나로 여러 내부 기기를 대신 연결/중계  

---

## 8. 패킷(Packet)
- **패킷 = 네트워크에서 오가는 최소 데이터 조각**  
- 구조:  
  - 헤더(Header): 출발지/목적지 주소, 제어 정보  
  - 페이로드(Payload): 실제 내용 (HTML, JSON 등)  
- 쪼개서 보내는 이유: 효율성 + 안정성 (일부만 재전송 가능, 망 자원 공유)

---

## ✅ 핵심 정리
- 서버 = 계산 / DB = 저장  
- 로컬 서버 = 내 PC / 외부 서버 = 전 세계 공개  
- AWS = 서버·DB·스토리지를 임대해주는 서비스  
- 도메인·DNS = 사람이 읽기 좋은 이름 → IP로 변환  
- 인터넷 연결 = 공인 IP + 열린 경로  
- 인터넷은 결국 **패킷들의 여행**

### 한 눈에 보는 전체 지도
```markdown
사용자 브라우저
   ↓ 요청
도메인 ──→ DNS ──→ 공인 IP
                     ↓
                (인터넷 백본)
                     ↓
            데이터센터(AWS)
           ┌───────────────┐
           │  EC2(서버)    │ ←→ RDS(DB)
           │  + 웹서버/앱  │     S3(파일)
           └───────────────┘
                     ↑
                  응답(패킷)
```
포인트: 도메인→DNS→IP로 주소를 해결하고, 인터넷→데이터센터로 연결이 이뤄진다.

### 도메인 → DNS → IP 흐름
```arduino
사용자 입력: https://mywebsite.com
      │
      ├─ 브라우저/OS 캐시 확인
      ├─ ISP DNS 질의
      └─ 권한 있는 네임서버에서 정답 획득
             (mywebsite.com → 52.x.x.x)
                       │
                     공인 IP로 접속
```

### 인터넷에 연결의 의미(네트워크 레벨)
```scss
브라우저 ──(HTTP 요청)──→ EC2(웹서버/앱)
                           │
                           ├─ DB 조회: RDS
                           └─ 파일: S3
                    ←─(HTTP 응답: HTML/JSON)─
```

### 패킷 구조 
```scss
┌────────────────────────────────────────────┐
│ 헤더(Header): 출발지IP, 목적지IP, 순번 등 │
├────────────────────────────────────────────┤
│ 페이로드(Payload): 실제 데이터(HTML/JSON) │
└────────────────────────────────────────────┘
```